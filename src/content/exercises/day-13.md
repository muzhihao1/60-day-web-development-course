---
day: 13
title: "‰ª£Á†ÅÈáçÊûÑÔºö‰ªé‰º†ÁªüÂà∞Áé∞‰ª£JavaScript"
description: "Â∞Ü‰∏Ä‰∏™‰ΩøÁî®‰º†ÁªüJavaScriptÁºñÂÜôÁöÑÂæÖÂäû‰∫ãÈ°πÂ∫îÁî®ÈáçÊûÑ‰∏∫‰ΩøÁî®ES6+Áé∞‰ª£ËØ≠Ê≥ïÔºåÂÆûË∑µ‰ªäÂ§©Â≠¶‰π†ÁöÑÊâÄÊúâÊñ∞ÁâπÊÄß"
difficulty: "intermediate"
estimatedTime: 90
requirements:
  - "‰ΩøÁî®const/letÊõø‰ª£ÊâÄÊúâvarÂ£∞Êòé"
  - "Â∞Ü‰º†ÁªüÂáΩÊï∞ËΩ¨Êç¢‰∏∫ÈÄÇÂΩìÁöÑÁÆ≠Â§¥ÂáΩÊï∞"
  - "‰ΩøÁî®Ëß£ÊûÑËµãÂÄºÁÆÄÂåñÂèòÈáèËµãÂÄº"
  - "Â∫îÁî®Ê®°ÊùøÂ≠óÁ¨¶‰∏≤Êõø‰ª£Â≠óÁ¨¶‰∏≤ÊãºÊé•"
  - "‰ΩøÁî®Êâ©Â±ïËøêÁÆóÁ¨¶ÂíåÈªòËÆ§ÂèÇÊï∞‰ºòÂåñ‰ª£Á†Å"
  - "ÂÆûÁé∞ES6Ê®°ÂùóÂåñÁªìÊûÑ"
hints:
  - "Ê≥®ÊÑèÁÆ≠Â§¥ÂáΩÊï∞ÁöÑthisÁªëÂÆöÁâπÊÄß"
  - "‰∏çÊòØÊâÄÊúâÂáΩÊï∞ÈÉΩÈÄÇÂêàËΩ¨Êç¢‰∏∫ÁÆ≠Â§¥ÂáΩÊï∞"
  - "Ëß£ÊûÑËµãÂÄºÂèØ‰ª•Áî®Âú®ÂáΩÊï∞ÂèÇÊï∞‰∏≠"
  - "ËÄÉËôë‰ΩøÁî®ÂØπË±°Â±ûÊÄßÁÆÄÂÜôËØ≠Ê≥ï"
  - "ËÆ∞ÂæóÂ§ÑÁêÜËæπÁºòÊÉÖÂÜµÂíåÈªòËÆ§ÂÄº"
checkpoints:
  - task: "ÊõøÊç¢ÊâÄÊúâvar‰∏∫constÊàñlet"
    completed: false
  - task: "ËΩ¨Êç¢ÈÄÇÂêàÁöÑÂáΩÊï∞‰∏∫ÁÆ≠Â§¥ÂáΩÊï∞"
    completed: false
  - task: "Âú®Ëá≥Â∞ë3Â§Ñ‰ΩøÁî®Ëß£ÊûÑËµãÂÄº"
    completed: false
  - task: "Â∞ÜÊâÄÊúâÂ≠óÁ¨¶‰∏≤ÊãºÊé•Êîπ‰∏∫Ê®°ÊùøÂ≠óÁ¨¶‰∏≤"
    completed: false
  - task: "‰ΩøÁî®Êâ©Â±ïËøêÁÆóÁ¨¶‰ºòÂåñÊï∞ÁªÑÊìç‰Ωú"
    completed: false
  - task: "Ê∑ªÂä†ÂáΩÊï∞ÈªòËÆ§ÂèÇÊï∞"
    completed: false
  - task: "Â∞Ü‰ª£Á†ÅÊãÜÂàÜ‰∏∫ES6Ê®°Âùó"
    completed: false
  - task: "‰ΩøÁî®ÂØπË±°Â±ûÊÄßÁÆÄÂÜôÂíåÊñπÊ≥ïÁÆÄÂÜô"
    completed: false
starterCode:
  language: "javascript"
  path: "/exercises/day-13/legacy-todo-app.js"
---

# ÁªÉ‰π†Ôºö‰ª£Á†ÅÈáçÊûÑ - ‰ªé‰º†ÁªüÂà∞Áé∞‰ª£JavaScript

## üéØ ‰ªªÂä°ÁõÆÊ†á

‰Ω†Êé•Êâã‰∫Ü‰∏Ä‰∏™‰ΩøÁî®‰º†ÁªüJavaScriptÔºàES5ÔºâÁºñÂÜôÁöÑÂæÖÂäû‰∫ãÈ°πÂ∫îÁî®„ÄÇ‰Ω†ÁöÑ‰ªªÂä°ÊòØÂ∞ÜÂÖ∂ÈáçÊûÑ‰∏∫‰ΩøÁî®Áé∞‰ª£ES6+ËØ≠Ê≥ïÔºå‰Ωø‰ª£Á†ÅÊõ¥Âä†ÁÆÄÊ¥Å„ÄÅÊòìËØªÂíåÁª¥Êä§„ÄÇ

## üìã ËÉåÊôØËØ¥Êòé

Ëøô‰∏™ÂæÖÂäû‰∫ãÈ°πÂ∫îÁî®ÊòØ5Âπ¥ÂâçÁºñÂÜôÁöÑÔºå‰ΩøÁî®‰∫ÜÂΩìÊó∂ÁöÑJavaScriptÊúÄ‰Ω≥ÂÆûË∑µ„ÄÇËôΩÁÑ∂ÂäüËÉΩÊ≠£Â∏∏Ôºå‰ΩÜ‰ª£Á†ÅÈ£éÊ†ºÂ∑≤ÁªèËøáÊó∂„ÄÇ‰Ω†ÈúÄË¶ÅÂú®‰∏çÊîπÂèòÂäüËÉΩÁöÑÂâçÊèê‰∏ãÔºå‰ΩøÁî®‰ªäÂ§©Â≠¶‰π†ÁöÑES6+ÁâπÊÄßÂØπÂÖ∂ËøõË°åÁé∞‰ª£ÂåñÊîπÈÄ†„ÄÇ

## üîç ÂéüÂßã‰ª£Á†Å

### legacy-todo-app.js

```javascript
// ‰º†ÁªüJavaScript‰ª£Á†Å - ÈúÄË¶ÅÈáçÊûÑ
var TodoApp = function() {
    var self = this;
    
    // ÈÖçÁΩÆ
    var config = {
        maxTodos: 10,
        defaultCategory: 'personal',
        categories: ['personal', 'work', 'shopping']
    };
    
    // ÂæÖÂäû‰∫ãÈ°πÂàóË°®
    var todos = [];
    var completedCount = 0;
    var activeCount = 0;
    
    // ÂàùÂßãÂåñ
    this.init = function() {
        console.log('TodoApp initialized with config:', config);
        self.loadFromStorage();
        self.updateStats();
    };
    
    // Ê∑ªÂä†ÂæÖÂäû‰∫ãÈ°π
    this.addTodo = function(text, category, priority) {
        if (!text || text.trim() === '') {
            console.error('Todo text cannot be empty');
            return false;
        }
        
        if (!category) {
            category = config.defaultCategory;
        }
        
        if (!priority) {
            priority = 'normal';
        }
        
        if (todos.length >= config.maxTodos) {
            alert('Maximum number of todos reached: ' + config.maxTodos);
            return false;
        }
        
        var todo = {
            id: Date.now(),
            text: text.trim(),
            category: category,
            priority: priority,
            completed: false,
            createdAt: new Date().toISOString()
        };
        
        todos.push(todo);
        activeCount++;
        self.saveToStorage();
        
        console.log('Added todo: ' + todo.text + ' [' + todo.category + ']');
        return todo;
    };
    
    // ÂàáÊç¢ÂÆåÊàêÁä∂ÊÄÅ
    this.toggleTodo = function(id) {
        var todo = null;
        for (var i = 0; i < todos.length; i++) {
            if (todos[i].id === id) {
                todo = todos[i];
                break;
            }
        }
        
        if (!todo) {
            console.error('Todo not found with id: ' + id);
            return false;
        }
        
        todo.completed = !todo.completed;
        
        if (todo.completed) {
            completedCount++;
            activeCount--;
        } else {
            completedCount--;
            activeCount++;
        }
        
        self.saveToStorage();
        return todo;
    };
    
    // Âà†Èô§ÂæÖÂäû‰∫ãÈ°π
    this.deleteTodo = function(id) {
        var index = -1;
        for (var i = 0; i < todos.length; i++) {
            if (todos[i].id === id) {
                index = i;
                break;
            }
        }
        
        if (index === -1) {
            console.error('Todo not found with id: ' + id);
            return false;
        }
        
        var deleted = todos.splice(index, 1)[0];
        
        if (deleted.completed) {
            completedCount--;
        } else {
            activeCount--;
        }
        
        self.saveToStorage();
        return deleted;
    };
    
    // Ëé∑ÂèñÂæÖÂäû‰∫ãÈ°πÂàóË°®
    this.getTodos = function(filter) {
        if (!filter) {
            return todos.slice();
        }
        
        var filtered = [];
        for (var i = 0; i < todos.length; i++) {
            var todo = todos[i];
            
            if (filter.category && todo.category !== filter.category) {
                continue;
            }
            
            if (filter.completed !== undefined && todo.completed !== filter.completed) {
                continue;
            }
            
            if (filter.priority && todo.priority !== filter.priority) {
                continue;
            }
            
            filtered.push(todo);
        }
        
        return filtered;
    };
    
    // Ëé∑ÂèñÁªüËÆ°‰ø°ÊÅØ
    this.getStats = function() {
        var categoryStats = {};
        
        for (var i = 0; i < config.categories.length; i++) {
            categoryStats[config.categories[i]] = 0;
        }
        
        for (var j = 0; j < todos.length; j++) {
            var category = todos[j].category;
            if (categoryStats[category] !== undefined) {
                categoryStats[category]++;
            }
        }
        
        return {
            total: todos.length,
            active: activeCount,
            completed: completedCount,
            byCategory: categoryStats
        };
    };
    
    // Ê∏ÖÈô§Â∑≤ÂÆåÊàêÁöÑÂæÖÂäû‰∫ãÈ°π
    this.clearCompleted = function() {
        var remaining = [];
        var cleared = [];
        
        for (var i = 0; i < todos.length; i++) {
            if (todos[i].completed) {
                cleared.push(todos[i]);
            } else {
                remaining.push(todos[i]);
            }
        }
        
        todos = remaining;
        completedCount = 0;
        self.saveToStorage();
        
        return cleared;
    };
    
    // ÊâπÈáèÊìç‰Ωú
    this.batchUpdate = function(ids, updates) {
        if (!Array.isArray(ids) || ids.length === 0) {
            console.error('Invalid ids array');
            return [];
        }
        
        var updated = [];
        
        for (var i = 0; i < ids.length; i++) {
            var id = ids[i];
            var todo = null;
            
            for (var j = 0; j < todos.length; j++) {
                if (todos[j].id === id) {
                    todo = todos[j];
                    break;
                }
            }
            
            if (todo) {
                if (updates.category) {
                    todo.category = updates.category;
                }
                if (updates.priority) {
                    todo.priority = updates.priority;
                }
                if (updates.completed !== undefined) {
                    if (todo.completed !== updates.completed) {
                        todo.completed = updates.completed;
                        if (todo.completed) {
                            completedCount++;
                            activeCount--;
                        } else {
                            completedCount--;
                            activeCount++;
                        }
                    }
                }
                
                updated.push(todo);
            }
        }
        
        if (updated.length > 0) {
            self.saveToStorage();
        }
        
        return updated;
    };
    
    // Êõ¥Êñ∞ÁªüËÆ°
    this.updateStats = function() {
        activeCount = 0;
        completedCount = 0;
        
        for (var i = 0; i < todos.length; i++) {
            if (todos[i].completed) {
                completedCount++;
            } else {
                activeCount++;
            }
        }
    };
    
    // ‰øùÂ≠òÂà∞localStorage
    this.saveToStorage = function() {
        try {
            localStorage.setItem('todos', JSON.stringify(todos));
            localStorage.setItem('todoConfig', JSON.stringify(config));
        } catch (e) {
            console.error('Failed to save to localStorage:', e);
        }
    };
    
    // ‰ªélocalStorageÂä†ËΩΩ
    this.loadFromStorage = function() {
        try {
            var savedTodos = localStorage.getItem('todos');
            var savedConfig = localStorage.getItem('todoConfig');
            
            if (savedTodos) {
                todos = JSON.parse(savedTodos);
            }
            
            if (savedConfig) {
                var loadedConfig = JSON.parse(savedConfig);
                for (var key in loadedConfig) {
                    if (config.hasOwnProperty(key)) {
                        config[key] = loadedConfig[key];
                    }
                }
            }
        } catch (e) {
            console.error('Failed to load from localStorage:', e);
        }
    };
    
    // ÂØºÂá∫‰∏∫JSON
    this.exportData = function() {
        return JSON.stringify({
            todos: todos,
            config: config,
            stats: self.getStats(),
            exportDate: new Date().toISOString()
        }, null, 2);
    };
    
    // ÊêúÁ¥¢ÂäüËÉΩ
    this.search = function(query) {
        if (!query || query.trim() === '') {
            return [];
        }
        
        query = query.toLowerCase();
        var results = [];
        
        for (var i = 0; i < todos.length; i++) {
            var todo = todos[i];
            if (todo.text.toLowerCase().indexOf(query) !== -1) {
                results.push(todo);
            }
        }
        
        return results;
    };
};

// ‰ΩøÁî®Á§∫‰æã
var app = new TodoApp();
app.init();

// ÊµãËØï‰ª£Á†Å
app.addTodo('Â≠¶‰π†ES6+ËØ≠Ê≥ï', 'work', 'high');
app.addTodo('Ë¥≠‰π∞ÁâõÂ•∂', 'shopping');
app.addTodo('Ë∑ëÊ≠•30ÂàÜÈíü', 'personal', 'medium');

var workTodos = app.getTodos({ category: 'work' });
console.log('Work todos:', workTodos);

var stats = app.getStats();
console.log('Stats:', stats);
```

## üìù ÈáçÊûÑË¶ÅÊ±Ç

### 1. ÂèòÈáèÂ£∞Êòé
- Â∞ÜÊâÄÊúâ`var`ÊõøÊç¢‰∏∫`const`Êàñ`let`
- ÂØπ‰∫é‰∏ç‰ºöÈáçÊñ∞ËµãÂÄºÁöÑÂèòÈáè‰ΩøÁî®`const`
- ÈúÄË¶ÅÈáçÊñ∞ËµãÂÄºÁöÑÂèòÈáè‰ΩøÁî®`let`

### 2. ÂáΩÊï∞ËØ≠Ê≥ï
- Â∞ÜÈÄÇÂêàÁöÑÂáΩÊï∞ËΩ¨Êç¢‰∏∫ÁÆ≠Â§¥ÂáΩÊï∞
- Ê≥®ÊÑèÔºöÈúÄË¶Å`this`ÁªëÂÆöÁöÑÊñπÊ≥ï‰∏çÂ∫î‰ΩøÁî®ÁÆ≠Â§¥ÂáΩÊï∞
- ‰ΩøÁî®ÂáΩÊï∞ÂèÇÊï∞ÈªòËÆ§ÂÄº

### 3. Â≠óÁ¨¶‰∏≤Â§ÑÁêÜ
- Â∞ÜÊâÄÊúâÂ≠óÁ¨¶‰∏≤ÊãºÊé•Êîπ‰∏∫Ê®°ÊùøÂ≠óÁ¨¶‰∏≤
- Â§öË°åÂ≠óÁ¨¶‰∏≤‰ΩøÁî®Ê®°ÊùøÂ≠óÁ¨¶‰∏≤

### 4. Ëß£ÊûÑËµãÂÄº
- Âú®ÂáΩÊï∞ÂèÇÊï∞‰∏≠‰ΩøÁî®ÂØπË±°Ëß£ÊûÑ
- Âú®ÈÄÇÂΩìÁöÑÂú∞Êñπ‰ΩøÁî®Êï∞ÁªÑÂíåÂØπË±°Ëß£ÊûÑ
- ‰ΩøÁî®Ëß£ÊûÑËµãÂÄºÊèêÂèñÂ±ûÊÄß

### 5. Êï∞ÁªÑÊìç‰Ωú
- ‰ΩøÁî®Êï∞ÁªÑÊñπÊ≥ïÔºàfilter„ÄÅmap„ÄÅfindÁ≠âÔºâÊõø‰ª£forÂæ™ÁéØ
- ‰ΩøÁî®Êâ©Â±ïËøêÁÆóÁ¨¶ËøõË°åÊï∞ÁªÑÊìç‰Ωú

### 6. ÂØπË±°Êìç‰Ωú
- ‰ΩøÁî®ÂØπË±°Â±ûÊÄßÁÆÄÂÜô
- ‰ΩøÁî®ÊñπÊ≥ïÁÆÄÂÜôËØ≠Ê≥ï
- ‰ΩøÁî®Êâ©Â±ïËøêÁÆóÁ¨¶ÂêàÂπ∂ÂØπË±°

### 7. Ê®°ÂùóÂåñ
- Â∞Ü‰ª£Á†ÅÊãÜÂàÜ‰∏∫ES6Ê®°Âùó
- ‰ΩøÁî®import/exportËØ≠Ê≥ï
- Âª∫ËÆÆÁöÑÊ®°ÂùóÁªìÊûÑÔºö
  - `config.js` - ÈÖçÁΩÆ
  - `todo.js` - TodoÁ±ª
  - `storage.js` - Â≠òÂÇ®Áõ∏ÂÖ≥
  - `app.js` - ‰∏ªÂ∫îÁî®

### 8. ÂÖ∂‰ªñÁé∞‰ª£ÁâπÊÄß
- ‰ΩøÁî®ÂèØÈÄâÈìæÊìç‰ΩúÁ¨¶Ôºà?.Ôºâ
- ‰ΩøÁî®Á©∫ÂÄºÂêàÂπ∂ËøêÁÆóÁ¨¶Ôºà??Ôºâ
- ‰ΩøÁî®ÈÄªËæëËµãÂÄºËøêÁÆóÁ¨¶Ôºà||=„ÄÅ&&=„ÄÅ??=Ôºâ

## üé® ÊúüÊúõÁöÑ‰ª£Á†ÅÈ£éÊ†ºÁ§∫‰æã

```javascript
// config.js
export const DEFAULT_CONFIG = {
    maxTodos: 10,
    defaultCategory: 'personal',
    categories: ['personal', 'work', 'shopping']
};

// todo.js
export class Todo {
    constructor(text, category = DEFAULT_CONFIG.defaultCategory, priority = 'normal') {
        this.id = Date.now();
        this.text = text.trim();
        this.category = category;
        this.priority = priority;
        this.completed = false;
        this.createdAt = new Date().toISOString();
    }
}

// ‰ΩøÁî®Áé∞‰ª£ËØ≠Ê≥ïÁöÑÁ§∫‰æã
const filterTodos = (todos, { category, completed, priority } = {}) => {
    return todos.filter(todo => {
        if (category && todo.category !== category) return false;
        if (completed !== undefined && todo.completed !== completed) return false;
        if (priority && todo.priority !== priority) return false;
        return true;
    });
};
```

## üöÄ È¢ùÂ§ñÊåëÊàò

Â¶ÇÊûú‰Ω†ÂÆåÊàê‰∫ÜÂü∫Á°ÄÈáçÊûÑÔºåÂèØ‰ª•Â∞ùËØïÔºö

1. **Ê∑ªÂä†TypeScriptÁ±ªÂûãÂÆö‰πâ**ÔºàÈ¢ÑËßàDay 19ÂÜÖÂÆπÔºâ
2. **ÂÆûÁé∞ÂºÇÊ≠•Êìç‰Ωú**Ôºà‰ΩøÁî®Promise/async-awaitÔºâ
3. **Ê∑ªÂä†‰∫ã‰ª∂Á≥ªÁªü**Ôºà‰ΩøÁî®Ëá™ÂÆö‰πâ‰∫ã‰ª∂Ôºâ
4. **‰ºòÂåñÊÄßËÉΩ**Ôºà‰ΩøÁî®Map‰ª£ÊõøÊï∞ÁªÑÊü•ÊâæÔºâ

## üìä ËØÑ‰º∞Ê†áÂáÜ

‰Ω†ÁöÑÈáçÊûÑÂ∞ÜÊ†πÊçÆ‰ª•‰∏ãÊ†áÂáÜËØÑÂàÜÔºö

1. **ËØ≠Ê≥ïÁé∞‰ª£ÂåñÔºà40%Ôºâ**
   - Ê≠£Á°Æ‰ΩøÁî®const/let
   - ÊÅ∞ÂΩì‰ΩøÁî®ÁÆ≠Â§¥ÂáΩÊï∞
   - Ê®°ÊùøÂ≠óÁ¨¶‰∏≤Â∫îÁî®

2. **‰ª£Á†ÅÁÆÄÊ¥ÅÊÄßÔºà30%Ôºâ**
   - ‰ΩøÁî®Ëß£ÊûÑËµãÂÄº
   - Êï∞ÁªÑÊñπÊ≥ïÊõø‰ª£Âæ™ÁéØ
   - ÂØπË±°Êìç‰Ωú‰ºòÂåñ

3. **Ê®°ÂùóÂåñÔºà20%Ôºâ**
   - ÂêàÁêÜÁöÑÊ®°ÂùóÊãÜÂàÜ
   - Ê∏ÖÊô∞ÁöÑÂØºÂÖ•ÂØºÂá∫

4. **ÂäüËÉΩÂÆåÊï¥ÊÄßÔºà10%Ôºâ**
   - ÊâÄÊúâÂéüÂßãÂäüËÉΩÊ≠£Â∏∏Â∑•‰Ωú
   - Ê≤°ÊúâÂºïÂÖ•Êñ∞ÁöÑbug

## üí° ÊèêÁ§∫

- ‰∏çË¶Å‰∏∫‰∫Ü‰ΩøÁî®Êñ∞ÁâπÊÄßËÄå‰ΩøÁî®ÔºåË¶ÅËÄÉËôëÂÆûÈôÖÁöÑÂ•ΩÂ§Ñ
- ‰øùÊåÅ‰ª£Á†ÅÁöÑÂèØËØªÊÄß
- ÊµãËØïÊØè‰∏™ÂäüËÉΩÁ°Æ‰øùÈáçÊûÑÊ≤°ÊúâÁ†¥ÂùèÂéüÊúâÂäüËÉΩ
- ÂèØ‰ª•Ê∑ªÂä†Ê≥®ÈáäËØ¥ÊòéÈáçÊûÑÁöÑÂéüÂõ†

Áé∞Âú®ÂºÄÂßã‰Ω†ÁöÑÈáçÊûÑ‰πãÊóÖÂêßÔºÅËÆ∞‰ΩèÔºåÂ•ΩÁöÑÈáçÊûÑ‰∏ç‰ªÖËÆ©‰ª£Á†ÅÊõ¥Áé∞‰ª£ÔºåÊõ¥Ë¶ÅËÆ©‰ª£Á†ÅÊõ¥ÊòìÁêÜËß£ÂíåÁª¥Êä§„ÄÇ