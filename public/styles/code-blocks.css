/* 全局代码块样式覆盖 */

/* 现代化代码块样式 */
pre[class*="shiki"],
pre.shiki,
pre:has(code) {
  background: linear-gradient(145deg, #1a1a1a 0%, #2d2d2d 100%) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
  border-radius: 12px !important;
  padding: 1.5rem 1.75rem !important;
  margin: 2rem 0 2.5rem 0 !important;
  position: relative !important;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.12),
    0 2px 8px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;
  font-size: 0.9rem !important;
  line-height: 1.7 !important;
  backdrop-filter: blur(20px) !important;
  transition: all 0.3s ease !important;
  color: #d4d4d4 !important;
  overflow-x: auto !important;
}

/* 确保代码块内的所有元素都有良好的对比度 */
pre[class*="shiki"] code,
pre.shiki code,
pre code {
  background-color: transparent !important;
  background: transparent !important;
  color: #d4d4d4 !important;
}

/* 默认文本颜色 */
.shiki,
.shiki span:not([style*="color"]) {
  color: #d4d4d4 !important;
}

/* 确保注释有良好的可见度 */
.shiki .comment,
.shiki span[style*="color:"][style*="rgb(106, 153, 85)"] {
  color: #6A9955 !important;
  opacity: 1 !important;
}

/* 字符串 */
.shiki .string,
.shiki span[style*="color:"][style*="rgb(206, 145, 120)"] {
  color: #CE9178 !important;
}

/* 关键字 */
.shiki .keyword,
.shiki span[style*="color:"][style*="rgb(86, 156, 214)"] {
  color: #569CD6 !important;
}

/* 函数名 */
.shiki .function,
.shiki span[style*="color:"][style*="rgb(220, 220, 170)"] {
  color: #DCDCAA !important;
}

/* 变量 */
.shiki .variable,
.shiki span[style*="color:"][style*="rgb(156, 220, 254)"] {
  color: #9CDCFE !important;
}

/* 数字 */
.shiki .number,
.shiki span[style*="color:"][style*="rgb(181, 206, 168)"] {
  color: #B5CEA8 !important;
}

/* 操作符和标点符号 */
.shiki .operator,
.shiki .punctuation {
  color: #D4D4D4 !important;
}

/* HTML标签 */
.shiki span[style*="color:"][style*="rgb(128, 128, 128)"] {
  color: #808080 !important;
}

/* HTML标签名 */
.shiki span[style*="color:"][style*="rgb(78, 201, 176)"] {
  color: #4EC9B0 !important;
}

/* HTML属性名 */
.shiki span[style*="color:"][style*="rgb(156, 220, 254)"] {
  color: #9CDCFE !important;
}

/* 确保所有未指定颜色的span都有默认颜色 */
.shiki span {
  color: #d4d4d4;
}